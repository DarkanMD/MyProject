@{
	Layout = "~/Views/Shared/_Layout.cshtml";
	ViewBag.Title = "Index";
}

<h2>Index</h2>
<div id="ProductTable"></div>
<div>
	<script src="~/Scripts/jquery-1.12.4.js"></script>
	<script src="~/Scripts/jquery-ui-1.12.1.js"></script>
	<script src="~/Scripts/jtable.2.4.0/jquery.jtable.js"></script>
	

	<link href="~/Scripts/jtable.2.4.0/themes/basic/jtable_basic.css" rel="stylesheet" />
	<link href="~/Scripts/jtable.2.4.0/themes/jqueryui/jtable_jqueryui.css" rel="stylesheet" />
	<link href="~/Scripts/jtable.2.4.0/themes/lightcolor/blue/jtable.css" rel="stylesheet" />
	<link href="~/Scripts/jtable.2.4.0/themes/metro/jtable_metro_base.css" rel="stylesheet" />
	<link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />

	<script type="text/javascript">
		var editProductUrl = '@Url.Action("Edit", "ProductModel")';
		//var typeOptions = $.getJson(~/ProductModel/GetTypes),
		$(document).ready(function () {
			$('#ProductTable').jtable({
				title: 'Products',
				paging: true,
				pageSize: 10,
				sorting: true,
				defaultSorting: 'ProductName ASC',
				actions: {
					listAction: '/ProductModel/ViewProducts',
					createAction: '/ProductModel/Create',
					//updateAction: '/ProductModel/Edit',
					deleteAction: '/ProductModel/Delete'
				},
				fields: {
					Id: {
						key: true,
						list: false
					},
					ProductName: {
						title: 'Name',
						width: '20%'
					},
					Type:{
						title: 'Type',
						width: '5%',
						options:{ '0': 'Internal', '1': 'External ' }
					},
					ProductCategory: {
						title: 'Category',
						width: '10%'
					},
					ProductIrRange: {
						title: 'IR Range',
						width: '10%'
					},
					ProductMatrixResolution: {
						title: 'Mpx',
						width: '5%'

					},
					ProductPrice: {
						title: 'Price',
						width: '10%'
					},
					ProductStock: {
						title: 'Stock',
						width: '10%'
					},
					ProductDescription: {
						title: 'Description',
						width: '25%',
						sorting:false
					},
					ProductVisibility: {
						title: 'Visibility',
						width: '10%',
						options: [true,false]
					},
					EditAgent: {
						width: '5%',
						sorting: false,
						edit: false,
						display: function (data) {
							return '<a href="' + editProductUrl + "?id=" + data.record.Id + '"><button class="jtable-command-button jtable-edit-command-button"></button></a>';
						}
					}
				}
			});
			$('#ProductTable').jtable('load');
		});
	</script>
</div>
